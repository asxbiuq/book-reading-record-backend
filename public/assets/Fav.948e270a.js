import{g as y,E as F,o as c,c as r,j as B,F as P,x as D,a as m,y as _,e as I,G as N,C as i,D as u,H as $,I as w,B as E}from"./index.3f094b51.js";const j={class:"flex flex-col justify-center items-center gap-7"},k={class:"flex flex-col gap-10 justify-center"},L={key:0},U=y({__name:"Fav",setup(S){let n=1;const{favs:d,gets:l,deleteFav:f}=F(),h=N();l();const p=async t=>{const{open:a,close:s}=i();a();try{f(t)}catch(o){console.log(o);const{open:e}=u();e(o)}s()},v=t=>{const a=E();a.value.postId=t._id,h.push({name:"Comments",params:{id:t._id}})},C=async()=>{const{open:t,close:a}=i();t();try{n++,await l(n)}catch(s){n--,console.log(n);const{open:o}=u();o(s)}a()},x=async()=>{const{open:t,close:a}=i();if(t(),n<=1){console.log("The first page!");const{open:s}=u();s("\u5DF2\u7ECF\u662F\u7B2C\u4E00\u9875!");return}else n--,await l(n),console.log("CurrentPage:",n);a()};return(t,a)=>{const s=$,o=w;return c(),r("div",j,[B("ul",k,[(c(!0),r(P,null,D(_(d),e=>(c(),r("li",{key:e._id},[m(s,{title:e.title,author:e.author,description:e.content,"btn-name":"\u53D6\u6D88\u6536\u85CF","img-url":e.imageUrl,"is-fav":e.isFav,onClickBtn:g=>p(e),onClickStar:g=>p(e),onClickImage:g=>v(e),class:"book-card hover:scale-105 duration-200 drop-shadow-2xl shadow-2xl bg-blend-color-burn"},null,8,["title","author","description","img-url","is-fav","onClickBtn","onClickStar","onClickImage"])]))),128)),_(d).length!==0?(c(),r("div",L,[m(o,{onPagePre:x,onPageNext:C})])):I("",!0)])])}}});export{U as default};
