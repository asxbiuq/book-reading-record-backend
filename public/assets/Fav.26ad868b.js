import{g as y,E as F,o as c,c as r,j as B,F as P,y as D,a as g,z as _,e as N,C as i,D as u,G as $,H as w,B as E}from"./index.95a673a1.js";import{u as I}from"./useFav.9bbd65ff.js";import"./assign.87b377eb.js";const j={class:"flex flex-col justify-center items-center gap-7"},k={class:"flex flex-col gap-10 justify-center"},L={key:0},A=y({__name:"Fav",setup(S){let n=1;const{favs:d,gets:l,unfav:f}=I(),h=F();l();const p=async t=>{const{open:a,close:s}=i();a();try{f(t)}catch(o){console.log(o);const{open:e}=u();e(o)}s()},v=t=>{const a=E();a.value.postId=t._id,h.push({name:"Comments",params:{id:t._id}})},C=async()=>{const{open:t,close:a}=i();t();try{n++,await l(n)}catch(s){n--,console.log(n);const{open:o}=u();o(s)}a()},x=async()=>{const{open:t,close:a}=i();if(t(),n<=1){console.log("The first page!");const{open:s}=u();s("\u5DF2\u7ECF\u662F\u7B2C\u4E00\u9875!");return}else n--,await l(n),console.log("CurrentPage:",n);a()};return(t,a)=>{const s=$,o=w;return c(),r("div",j,[B("ul",k,[(c(!0),r(P,null,D(_(d),e=>(c(),r("li",{key:e._id},[g(s,{title:e.title,author:e.author,description:e.content,"btn-name":"\u53D6\u6D88\u6536\u85CF","img-url":e.imageUrl,"is-fav":e.isFav,onClickBtn:m=>p(e),onClickStar:m=>p(e),onClickImage:m=>v(e),class:"book-card hover:scale-105 duration-200 drop-shadow-2xl shadow-2xl bg-blend-color-burn"},null,8,["title","author","description","img-url","is-fav","onClickBtn","onClickStar","onClickImage"])]))),128)),_(d).length!==0?(c(),r("div",L,[g(o,{onPagePre:x,onPageNext:C})])):N("",!0)])])}}});export{A as default};
