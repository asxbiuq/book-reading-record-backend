import{g as y,E as F,o as c,c as r,j as B,F as P,y as D,a as _,z as f,e as N,C as i,D as u,G as $,H as w,B as E}from"./index.8173980e.js";import{u as I}from"./useFav.b682ddfd.js";import"./assign.2e3233f3.js";const j={class:"flex flex-col justify-center items-center gap-7"},k={class:"flex flex-col gap-10 justify-center"},L={key:0},A=y({__name:"Fav",setup(S){let s=1;const{favs:d,gets:l,unfav:g}=I(),h=F();l();const p=async t=>{const{open:n,close:a}=i();n();try{g(t)}catch(o){const{open:e}=u();e(o)}a()},v=t=>{const n=E();n.value.postId=t._id,h.push({name:"Comments",params:{id:t._id}})},C=async()=>{const{open:t,close:n}=i();t();try{s++,await l(s)}catch(a){s--;const{open:o}=u();o(a)}n()},x=async()=>{const{open:t,close:n}=i();if(t(),s<=1){const{open:a}=u();a("\u5DF2\u7ECF\u662F\u7B2C\u4E00\u9875!");return}else s--,await l(s);n()};return(t,n)=>{const a=$,o=w;return c(),r("div",j,[B("ul",k,[(c(!0),r(P,null,D(f(d),e=>(c(),r("li",{key:e._id},[_(a,{title:e.title,author:e.author,description:e.content,"btn-name":"\u53D6\u6D88\u6536\u85CF","img-url":e.imageUrl,"is-fav":e.isFav,onClickBtn:m=>p(e),onClickStar:m=>p(e),onClickImage:m=>v(e),class:"book-card hover:scale-105 duration-200 drop-shadow-2xl shadow-2xl bg-blend-color-burn"},null,8,["title","author","description","img-url","is-fav","onClickBtn","onClickStar","onClickImage"])]))),128)),f(d).length!==0?(c(),r("div",L,[_(o,{onPagePre:x,onPageNext:C})])):N("",!0)])])}}});export{A as default};
